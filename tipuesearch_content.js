var tipuesearch = {"pages":[{"title":"O mně","text":"Marek Nožka absolvoval SPŠE Olomouc absolvoval FEKT na VUT v Brně vyučuje odborné technické předměty na VOŠ a SPŠe Olomouc používá Linux a propaguje Open source řešení rád programuje ve VImu , v Céčku , v Perlu a v Pythonu nerád programuje v PHP Twitter uje sdílí své zdrojové kódy na serveru GitHub má rád Wikipedii a jí přidružené projekty : 1 2 3 provozuje kanál na YouTube nemá rád, když mu někdo tvrdí, že jeho názor je špatný, protože nekoresponduje s průzkumem veřejného mínění miluje Hospodina a svou ženu. Kontakt E-mail marrek z@vináč marrek tečka cz","tags":"Python","url":"https://marrek.cz/pages/o-mne.html","loc":"https://marrek.cz/pages/o-mne.html"},{"title":"Pancíř svatého Patrika","text":"Nedávno jsem narazil na jednu hodně starou a dle mého názoru velice hezkou modlitbu, která je označována jako Hymnus sv. Patrika . Celé to začalo tím, že se ke mě dostala zhudebněná verze této modlitby s (neveřejnými) českými titulky. Angličtina není moje úplně silná stránka, ale tato modlitba se mi velice zalíbila a překlad, který jsem měl k dispozici mi úplně neseděl, takže jsem se pustil do vlastní verze překladu. Určitě je ještě co zlepšovat… moje otitulkovaná verze: https://youtu.be/3RfnwPR-258 původní verze: https://youtu.be/0BGugMak4ys Pátral jsem dál: Svatý Patrik tuto modlitbu složil ve staré irštině 1 . Je ale dostupná i v angličtině 1 a existují také překlady do češtiny: VojtechKotet.cz Pastorace.cz Existuje ještě báseň (nebo píseň) s tímto motivem s roku 1888, které se říká Pancíř sv. Patrika: https://ireland-calling.com/st-patricks-breastplate-hymn/ https://en.wikipedia.org/wiki/Saint_Patrick's_Breastplate Mě osobně se slovo \"Pancíř\" nebo \"Brnění\" líbí víc než \"Hymnus\", takže v mém modlitebním sešitě to vypadá asi takto: Brnění svatého Patrika Povstávám dnes skrze ohromnou sílu vzývání Trojice, skrze víru v trojjediného, skrze vyznání víru v jediného Tvůrce všeho stvoření. Povstávám dnes v síle Kristova vtělení a křtu, v síle Jeho ukřižování i pohřbu, v síle Jeho zmrtvýchvstání i nanebevstoupení, v síle Jeho návratu při posledním soudu. Povstávám dnes v síle lásky cherubínů, v síle poslušnosti andělů, v síle služby archandělů, v síle naděje na odplatu při vzkříšení, v síle modliteb patriarchů, v síle výroků proroků, v síle kázání apoštolů, v síle víry vyznavačů, v síle nevinnosti svatých panen, v síle skutků spravedlivých. Povstávám dnes v síle nebe: světla slunce, třpytu měsíce, žáru ohně, rychlosti blesku, hbitosti větru, stability země, pevnosti skal. Povstávám dnes skrze Boží sílu, která mě řídí, Boží moc, která mě pozvedá, Boží moudrost, která mě vede, Boží oko, které hledí přede mne, Boží ucho, které mi naslouchá, Boží slovo, které ke mě promlouvá, Boží ruku, která mě střeží, Boží cestu, která se prostírá přede mnou, Boží štít, který mě chrání, Boží vojsko, které mě zabezpečuje před ďábelskými léčkami, před pokušením neřesti, před svody tělesnými, před každým, kdo mi přeje zlo, blízko či daleko, ať sám nebo v zástupu. Dnes vzývám všechny tyto síly, aby se postavili mezi mě a zlé proti každé kruté nemilosrdné moci, která se může postavit mému tělu a mé duši, proti falešným zákonům kacířů, proti tajnému umění modlářství, proti kouzlům čarodějnic a čarodějů, proti všemu vědění okrádajícímu lidské tělo nebo duši, Kriste dnes mě ochraňuj proti jedu, proti požáru, proti utonutí, proti zranění, tak aby ke mě mohla přijít hojnost odměny. Kristus se mnou, Kristus přede mnou, Kristus za mnou, Kristus ve mne, Kristus pode mnou, Kristus nade mnou, Kristus po mé pravici, Kristus po mé levici. Kristus po celé mé šířce, délce i výšce. Kristus v srdci každého, kdo na mě myslí, Kristus v ústech každého kdo o mě mluví, Kristus v každém oku, které na mě hledí, Kristus v každém uchu, které mě slyší. Povstávám dnes skrze ohromnou sílu vzývání Trojice, skrze víru v trojjediného, skrze vyznání víru v jediného Tvůrce všeho stvoření. https://wikisource.org/wiki/Thesaurus_Palaeohibernicus/Patrick%27s_hymn ) ↩ ↩","tags":"Blog","url":"https://marrek.cz/pancir-svateho-patrika.html","loc":"https://marrek.cz/pancir-svateho-patrika.html"},{"title":"Istanbulská úmluva","text":"V brzké době by se na jednání sněmovny PČR mohla dostat Úmluva Rady Evropy o prevenci a potírání násilí vůči ženám a domácího násilí, tzv. Istanbulská úmluva. Tato úmluva může naprosto zásadně ovlivnit životy našich rodin a zejména životy křesťanských rodin. Přesto, že jedná o opravdu zásadní dokument, který ČR zaváže k mnoha nehezkým věcem, vůbec se o něm nemluví a veřejnost o něm pramálo ví. Proč je třeba se modlit za odmítnutí tzv. Istanbulské úmluvy? Tato úmluva už byla za ČR podepsána 12. května 2016, ale dosud nebyla ratifikována. V posledních dvou letech se zvýšil tlak na její ratifikaci, ale mnoho států její ratifikaci nedokončilo nebo přímo odmítlo, jako Maďarsko a Slovensko. Pro Českou republiku je tato smlouva vyloženě nadbytečná. Potřebné zákony na potírání domácího násilí už tu dávno máme. Hlavním problémem ale není pouze nadbytečnost úmluvy, nýbrž skutečnost, že úmluva má mnohem širší záběr a ono tzv. domácí násilí má ve skutečnosti úplně jiný význam, než by si našinec mohl myslet. Úmluva ve skutečnosti propaguje tzv. genderovou ideologii a zavádí ji do našich rodin a škol. Chce, aby byly ideálně zcela smazány i ty nejpřirozenější rozdíly mezi muži a ženami. Chce, aby si každý, včetně malých dětí, mohl vybrat své pohlaví. Nezáleží už na tom, jaké máte biologické pohlaví, ale pouze na tom, jak se cítíte. Žití tradičních rolí muže a ženy v tradičních rodinách jsou de facto pokládány za násilí. Pokud se rozhodnete své děti vychovávat tradičně a tvrdíte jim, že mezi mužem a ženou jsou jasné (ne jen fyziologické) rozdíly a že každé pohlaví má v rodině i společnosti svou nezastupitelnou a jedinečnou roli, může to být pokládáno za násilí a vaše děti mohou být z vaší rodiny odebrány. Možná vám předchozí věta připadá jako špatný vtip, ale je to tak. Ratifikace této úmluvy by totiž znamenala, že u nás bude působit nová „sociální služba\" zvaná GREVIO . Její pracovníci budou mít imunitu a nebudou spadat pod náš právní systém. Bude monitorovat naše rodiny a pokud se jí nebude něco líbit, může dospělé trestat a děti posílat do „lepších\" rodin. To vše mimo české soudy a český právní systém. Úmluva má totiž vyšší právní rámec, než naše zákony. Úmluva je velmi snadno zneužitelná a navíc ustanovuje odvod nemalých finančních prostředků ze státního rozpočtu do tzv. genderového neziskového sektoru. Mají být provedeny zásahy do vzdělávacího systému, protože tzv. genderově stereotypní chování jde odstranit jedině tak, že budeme dětem od raného věku vtloukat do hlavy, že mezi muži a ženami nejsou rozdíly. V zemích, které dohodu již ratifikovaly jsou děti ve školkách krmeny pohádkami, kde si princezna vezme za ženu další princeznu a již od malička je učí, že rodinu lze vytvořit i jinak, než svazkem muže a ženy; atd… Několik odkazů a zdrojů ze kterých jsem čerpal https://www.youtube.com/watch?v=g5glwak7-Q0 https://www.parlamentnilisty.cz/politika/politici-volicum/Vich- SPD -Je-Istanbulska-umluva-opravdu-tim-za-co-se-vydava-536082 http://neviditelnypes.lidovky.cz/evropa-istanbulska-umluva-d0e-/p_zahranici.aspx?c=A180516_231828_p_zahranici_wag https://zdechovsky.blog.idnes.cz/blog.aspx?c=660411 http://tradicniceskarodina.cz/wp-content/uploads/2018/05/Petice-Chceme-zachovat-tradiční-rodinu-odmítáme-ratifikaci-Istanbulské-úmluvy-1.pdf Co je třeba dělat? Roztrhněte svá srdce, a ne šaty. Na Siónu zatrubte na polnici, nařiďte půst, svolejte shromáždění, svolejte lid, zasvěťte obec, sezvěte starce, shromážděte děti i kojence; ženich ať vyjde ze svého pokoje, nevěsta ze své ložnice! Kněží, Hospodinovi služebníci, ať pláčou mezi předsíní a oltářem a říkají: „Ušetř, Hospodine, svůj lid, nevydávej své dědictví v potupu, aby nad ním nevládli pohané!\" Proč se má mezi národy říkat: „Kdepak je ten jejich Bůh?\" (Joel 2,12-18) Hlavně se prosím spojme v modlitbě a nenechme Satana, aby nám diktoval, jak máme vychovávat děti. Modleme se za na tento úmysl každý den. Nezapomeňte, že na tento úmysl můžeme obětovat také posty, svatá přijímání, růžence. Můžete použít například tuto PDF s modlitbou a informacemi . Spojme se prosím všichni postem a modlitbou růžence na tento úmysl zvláště 13. července a prosme Pannu Marii Fatimskou . Šiřte co možná nejvíc tyto informace a získejte pro půst a modlitbu co nejvíc lidí. Technická poznámka k rozesílání hromadných e-mailů Pokud rozesíláte informace jako hromadný e-mail, dbejte prosím na to, aby bylo zachováno soukromí všech, kterým zprávu posíláte. Toho lze dosáhnou jednoduše tak, že adresy nebudete zapisovat do políčka \" Komu: \" (to se používá, když píšete jednomu člověku, nebo lidem, kteří se jistě navzájem znají), ale do políčka \" Skrytá kopie: \" nebo \" Slepá kopie: \" . Takto se jednotliví příjemci navzájem neuvidí a bude tak zachováno jejich soukromí. Náměty k modlitbě Ať Bůh Otec všemohoucí se svým Synem a Duchem Svatým navždy kralují v naší zemi (České republice) se vším, co k ní patří a nad osobami, co v ní přebývají. Ať je tato země se vším, co k ní patří a se všemi osobami, co v ní přebývají pod ochranou přesvaté, přečisté a nejmocnější krve Ježíšovy a jeho přesvatého Jména. Ve víře svěřuji naši zem mocnému působení Kristovy krve. Přesvatá krvi našeho Pána vylij se na naši zem a očisti ji od všech špatných a bezbožných vlivů a od všeho působení zlých duchů a démonů. Ať archanděl Michael a jeho andělé stráží naši zem a vše, co k ní patří, zvláště pak české politiky, zákonodárce a školství. Ať Duch Boží naplní srdce všech, kdo se podílí na vykonávání moci a na výchově nových generací i srdce všech, kdo v naší zemi žijí. Ať je jediným pánem naší země, ve jménu Ježíše Krista, všemohoucí Bůh Otec, Syn a Duch svatý. O toto všechno prosíme na mocnou přímluvu neposkvrněného srdce Panny Marie. Prosíme o přímluvu všechny anděly a svaté: Sv. Václava, sv. Ludmilu, sv. Cyrila a Metoděje, sv. Prokopa, sv. Anežku, sv. Zdislavu, sv. Jana Sarkandera, sv. Jana Nepomuckého, sv. Vojtěcha, Aničku Zelíkovou a Aničku Tomanovou. Ať naše země a všichni, kdo v ní žijí, slouží našemu nebeskému Otci podle Jeho plánu a vůle. Amen Pod ochranu Tvou … Svatý Michaeli, archanděli, braň nás v boji! Proti zlobě a úkladům ďáblovým budiž nám záštitou, nechť Bůh přikáže jemu, pokorně prosíme! Ty pak, kníže vojska nebeského, Satana a jiné duchy zlé, kteří ke zkáze duší světem obcházejí, božskou mocí do pekla svrhni. Amen. Otče, modlíme se za OBNOVU . Prosím, vylij svého Ducha na svůj lid a daruj nám nové vidění tvé slávy, novou zkušenost s tvou mocí, novou víru ve tvé Slovo a nové zasvěcení se do tvé služby, aby tvá láska mezi námi rostla a tvé království přišlo. Věříme, Otče, ve tvou ochranu proti úkladům ďábla, který chce zničit tvé plány a úmysly. Prohlašujeme tě Pánem v našich životech. Ať se stane vůle tvá. Amen. Vznešená Královno nebe, Paní andělů, Maria, ty máš od Boha moc a úkol rozdrtit satanovu hlavu. Pokorně tě prosíme, sešli nám na pomoc nebeské vojsko, aby pod tvým vedením pronásledovalo démony, bojovalo s nimi, odráželo jejich útoky a srazilo je zpět do pekelné propasti. (Kdo je jako Bůh?)x7 Dobrá, láskyplná a něžná Matko, ty budeš stále naší láskou a nadějí. Matko Boží pošli nám svaté anděly, aby nás bránili a odvrátili o nás útoky zlého nepřítele. Svatí andělé a archandělé, střežte nás a braňte nás. Amen. K tobě, svatý Josefe, přicházíme ve své tísni. Když jsme vzývali o pomoc tvou přesvatou snoubenku, žádáme s důvěrou i od tebe ochranu. Pro lásku, která tě pojila s neposkvrněnou Pannou a Bohorodičkou, a pro otcovskou lásku, s kterou jsi objímal Ježíše, pokorně prosíme: shlédni milostivě na dědictví, které si Ježíš Kristus získal svou krví, a přispívej nám v našich potřebách svou mocnou přímluvou. Starostlivý strážce Svaté rodiny, opatruj vyvolený lid Ježíše Krista. Odvrať od nás, laskavý otče, všechnu nákazu bludů a mravní zkaženosti. Náš mocný ochránce, milostivě nám z nebe pomáhej v tomto boji s mocnostmi temna, a jako jsi kdysi vysvobodil Ježíše z nebezpečí života, tak nyní braň církev Boží proti úkladům nepřátel a proti všemu protivenství. Nás pak všechny ustavičně ochraňuj, abychom podle tvého příkladu a s tvou pomocí svatě žili, zbožně zemřeli a dosáhli věčné blaženosti v nebesích. Amen.","tags":"Blog","url":"https://marrek.cz/istanbulska-umluva.html","loc":"https://marrek.cz/istanbulska-umluva.html"},{"title":"Naše Matka Maria, naše Paní Archy","text":"V roce 1991 vydalo Mariánské nakladatelství v Brně soubor duchovních naučení, rozjímání a modlitby z různých novodobých zjevení Ježíšových a Mariiných, které vybral a přeložil František Press a má název Mariin Nebeklíč. Z této knihy si dovolím ocitovat. Obracím se na vás se zvláštní žádostí, abyste mě 13. dne každého měsíce uctívali, abyste z tohoto dne pro mne učinili svatý den, abyste se v tento den lásky modlili, činili pokání a oběti, abyste mě uctívali pod titulem - Naše Paní Archy, naše Matka Maria, Ochránkyně křesťanů . Žádám vás všechny, komu je to možné, abyste se toho dne v poledne pomodlili svatý růženec, a budete-li mě pod tímto titulem vzývat, slibuji vám, mé děti, že požádáte-li mě a nebeského Otce v tuto hodinu a při vzývání uvedeného titulu o jakoukoli milost, obdržíte ji. Tento titul,mé děti, má na nebi velikou moc. -Maria v Novře 1984- V Noemově době se záchranou pro lidstvo stala Noemova archa. V naší době je archou pro naši záchranu Neposkvrněné Srdce Panny Marie. Panna Maria mnohokrát a na mnoha místech stále připomíná jak je potřebná modlitba a půst. Fatima https://www.slavne-dny.cz/episode/618301/den-kdy-tisice-lidi-videly-zazrak-13-rijen http://www.fatym.com/view.php?nazevclanku=doporucujeme-de-mattei-abychom-zachranili-cirkev-musime-zasvetit-rusko-neposkvrnenemu-srdci-panny-marie&cisloclanku=2017040130 Medžugorie a Fatima https://youtu.be/RNnYvYnngs8 https://youtu.be/zULjFcqL_Ns","tags":"Blog","url":"https://marrek.cz/nase-matka-maria-nase-pani-archy.html","loc":"https://marrek.cz/nase-matka-maria-nase-pani-archy.html"},{"title":"Hra života — Game of live","text":"Hra života je dvoustavový, dvourozměrný celulární automat, který svým chováním připomíná vývoj společenství živých organismů. Odehrává se na matici buněk, jejíž stav předurčuje podobu hry v následujícím kroku. Už moc nevím, kde jsem se k této hře nebo algoritmu dostal, ale docela se mi tato myšlenka zalíbila. Pro implementaci stačí dvourozměrná matice čísel 0 a 1, které představují mrtvé a živé buňky. O tom, jak bude matice vypadat v následujícím kroku se rozhodne podle těchto pravidel: Každá živá buňka s méně než dvěma živými sousedy zemře. Každá živá buňka se dvěma nebo třemi živými sousedy zůstává žít. Každá živá buňka s více než třemi živými sousedy zemře. Každá mrtvá buňka s právě třemi živými sousedy oživne. Pro zobrazení a animaci jsem použil modul matplotlib . game_of_live.py 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 import random import pylab as lab import matplotlib.animation as animation w = 2 ** 7 h = w def onclick ( event ): global data new = [[ 0 for i in range ( w )] for j in range ( h )] for m in range ( h ): for n in range ( w ): i = m if m != h - 1 else - 1 j = n if n != w - 1 else - 1 suma = data [ i + 1 ][ j ] + data [ i - 1 ][ j ] + \\ data [ i ][ j + 1 ] + data [ i ][ j - 1 ] + \\ data [ i + 1 ][ j + 1 ] + data [ i - 1 ][ j - 1 ] + \\ data [ i + 1 ][ j - 1 ] + data [ i - 1 ][ j + 1 ] if data [ i ][ j ] == 1 : if suma < 2 : new [ i ][ j ] = 0 elif suma > 3 : new [ i ][ j ] = 0 else : new [ i ][ j ] = 1 else : if suma == 3 : new [ i ][ j ] = 1 else : new [ i ][ j ] = 0 data = new grid . set_array ( data ) lab . draw () data = [[ random . randint ( 0 , 7 ) for i in range ( w )] for j in range ( h )] for i in range ( h ): for j in range ( w ): data [ i ][ j ] = data [ i ][ j ] if data [ i ][ j ] == 1 else 0 fig = lab . figure () sub = lab . subplot ( 111 ) sub . axes . get_xaxis () . set_visible ( False ) sub . axes . get_yaxis () . set_visible ( False ) grid = lab . imshow ( data , interpolation = 'none' , cmap = 'binary' ) lab . grid () ani = animation . FuncAnimation ( fig , onclick , interval = 300 ) lab . show () Pravidla lze samozřejmě upravovat — lze tak dosáhnout poměrně zajímavých výsledků…","tags":"Blog","url":"https://marrek.cz/hra-zivota-game-of-live.html","loc":"https://marrek.cz/hra-zivota-game-of-live.html"},{"title":"Jak automaticky připojovat vzdálené diskové oddíly","text":"Autofs Pomocí Autofs lze zařídit automatické připojení souborového systému při jeho prvním použití a jeho automatické odpojení při nečinnosti. Vše se děje na základě přednastaveného mapování. Takto lze připojovat vyměnitelné médium, Sambu nebo jakékoliv FUSE . O Autofs jsem se dozvěděl náhodou v jedné e-mailové konferenci, kde se řešil úplně jiný problém. Mě při této příležitosti napadlo, že si takto můžu připojit své vzdálené disky, které jsem zatím, připojoval ručně pomocí příkazu sshfs . V tomto zápisku se tedy zaměřím na sshfs , ale [!dd našel] jsem hezký návod i pro Sambu . SSH klíče pro Roota Nejprve je třeba zajistit, aby se lokální uživatel root dostal ke vzdálenému uživatelskému účtu a nemusel zapisovat heslo — vše se má dít automaticky. To lze zajistit pomocí SSH klíčů. SSH a SSH klíče: Seriál Pokročilé vlastnosti OpenSSH Jak se přihlašovat na SSH bez zadávání hesla OpenSSH - více než jen Secure Shell OpenSSH - bezpečně a pohodlně Vygenerujeme rootovi [!enwk keypair] . Důležité je, aby byl privátní klíč bez passphrase . Při dotazu na passphrase je tedy třeba zadat jen Enter . 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 # ssh-keygen -t dsa Generating public/private dsa key pair. Enter file in which to save the key (/root/.ssh/id_dsa): Enter passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved in /root/.ssh/id_dsa. Your public key has been saved in /root/.ssh/id_dsa.pub. The key fingerprint is: 03:ca:c2:ae:42:b8:e8:8f:85:b8:fd:2f:7b:5f:a6:7e marek@impala The key's randomart image is: +---[DSA 1024]----+ | | | | | . | | . . . . | |. o o S | |oo.. . | |+o.. o | |++o . . +E | |=oooo=.o+. | +-----------------+ Veřejný klíč je poté třeba dopravit na vzdálený počítač do souboru ~/.ssh/authorized_keys . Pokud už soubor nějaké klíče obsahuje klíč se jednoduše připojí na konec. Toto lze zařídit mnoha způsoby. Například takto: 1 # ssh user@masina.nekde.tld 'cat >>~/.ssh/authorized_keys' <~/.ssh/id_dsa.pub V tomto okamžiku by mělo fungovat přihlášení roota ke vzdálenému počítači bez hesla, jen na základě klíče. 1 # ssh user@masina.nekde.tld Přihlášení je dobré ověřit ještě před konfigurací Autofs. sshfs nebude fungovat, pokud uživatel root nebude mít ověřenou identitu serveru. A to se děje právě při první přihlášení pomocí SSH . Konfigurace autofs Autofs je třeba nejprve naistalovat: 1 # aptitude install autofs sshfs Poté vytvořím soubor s definicemi co a kam se bude připojovat. Řádky jsou poměrně dlouhé: /etc/auto.sshfs 1 2 masina -fstype=fuse,allow_other,reconnect,uid=1000,gid=1000 sshfs\\#user@masina.tld:/home/user borec -fstype=fuse,allow_other,reconnect,uid=1000,gid=1000 sshfs\\#borec@jinde.tld:/home/stud/borec uid a gid patří uživateli, na kterého se bude připojený souborový systém mapovat. Pokud neznáte své uid neznáte stačí spustit příkaz id . Takto vytvořený soubor musíme zaregistrovat aby o něm Autofs věděl. To se dá zařídit v souboru /etc/auto.master . Na konec jsem přidal řádek: 1 /mnt/sshfs /etc/auto.sshfs --timeout=30 Nyní je třeba službu restartovat, aby si všimla změn, které jsme provedli v konfiguraci. 1 # /etc/init.d/autofs restart Jak se to používá? Jednoduše vstoupíte do adresáře /mnt/sshfs/masina nebo si třeba vypíšete obsah adresáře /mnt/sshfs/borec . Souborový systém se automaticky připojí jakmile na něj sáhnete. … a po 30 sekundách, co na něj nesáhnete se automaticky odpojí. Mě ještě trochu točilo, že složka /mnt/sshfs je při odpojených vzdálených file-systémech prázdná. Když jsem chtěl její jméno doplnit tabulátorem shell si na tento adresář \"sáhnul\" a připojili se všechny oddíly. Proto jsem v souboru /etc/default/autofs zapnul/odkomentoval volbu 1 BROWSE_MODE=\"yes\" Tím je zařízeno, že se moje masina a borec objeví v adresáři /mnt/sshfs , i když jsou odpojené.","tags":"Blog","url":"https://marrek.cz/jak-automaticky-pripojovat-vzdalene-diskove-oddily.html","loc":"https://marrek.cz/jak-automaticky-pripojovat-vzdalene-diskove-oddily.html"},{"title":"Výchozí kódování v Pythonu","text":"Občas se mi stane, že spouštím v Linuxu Python skript vytvořený ve Windows. Nejčastěji je to nějaká studentská práce, domácí úkol nebo něco podobného. Většinou není co řešit a program si prostě spustím, ale občas dělá problém diakritika v unicode řetězcích. Třeba: 1 2 3 4 5 cislo = raw_input ( u 'napiš nějaké číslo' ) ..... f = open ( 'pokus.txt' , 'w' ) f . write ( 'Loď čeří kýlem vodu v úžině' ) ..... Python se snaží v těchto situacích unicode řetězec konvertovat do příslušné znakové sady. Problém je, že neví, která znaková sada je ta \"příslušná\" a proto končí s chybovým hlášením: 1 2 3 4 5 Traceback (most recent call last): File \"kodovani.py\", line 30, in <module> f.write(cestina) UnicodeEncodeError: 'ascii' codec can't encode character u'\\u010f' in position 2: ordinal not in range(128) Nejdřív to, co problémy nedělá: S tímto kódem problémy nejsou, protože kódování pro standardní vstup/výstup je nastaveno na UTF-8 . 1 2 3 4 5 6 7 8 9 10 import sys print \"default encoding: \" , sys . getdefaultencoding () cestina = u 'Loď v úžině \\n ' print cestina # tohle je OK sys . stdout . write ( cestina ) # tohle taky # prototože print ( sys . stdin . encoding , sys . stdout . encoding ) Pokud je třeba nějak měnit kódování standardního vstupu/výstupu je to možné udělat jednoduše přes proměnnou prostředí PYTHONIOENCODING . Výstup potom vypadá takto: 1 2 3 4 5 6 $ PYTHONIOENCODING = cp1250 ./kodovani.py default encoding: utf-8 Loï v úin Loï v úinì ('cp1250', 'cp1250') Default encoding zůstalo stejné, změnilo se jen kódování standardního vstupu/výstupu. Jak tedy nastavit defaultencoding ?. To se totiž projeví u otevřených souborů nebo například u vestavěné funkce raw_input() . Nejjednodušší je použít funkci sys.setdefaultencoding() . Má to ale jeden malý háček. Takto funkce je dostupná pouze při spuštění Pythonu. Dále se setkáme s chybovým hlášením. 1 2 3 4 Traceback (most recent call last): File \"kodovani.py\", line 12, in <module> sys.setdefaultencoding(\"utf-8\") AttributeError: 'module' object has no attribute 'setdefaultencoding' První fígl je použít funkci reload() : 1 2 3 import sys reload ( sys ) # to enable `setdefaultencoding` again sys . setdefaultencoding ( \"UTF-8\" ) nebo 1 reload ( sys ) . setdefaultencoding ( \"UTF-8\" ) Druhý fígl je spustit Python s parametrem -S . Ten zakáže automatický import modulu site , který výchozí znakovou sadu nastavuje a funkci setdefaultencoding poté znepřístupní. 1 2 3 4 5 #!/usr/bin/python2.7 -S import sys sys . setdefaultencoding ( \"utf-8\" ) import site Výše jsem uvedl řešení pro jeden konkrétní zdrojový kód. Pokud požadujeme globální nastavení stačí vytvořit soubor sitecustomize.py a umístit ho někam do PYTHONPATH respektive do sys.path . 1 2 import sys sys . setdefaultencoding ( 'UTF-8' ) Odkazy: http://stackoverflow.com/questions/11741574/how-to-set-the-default-encoding-to-utf-8-in-python http://stackoverflow.com/questions/2276200/changing-default-encoding-of-python http://stackoverflow.com/questions/7105441/how-to-set-default-encoding-in-python-setdefaultencoding-function-does-not-ex","tags":"Blog","url":"https://marrek.cz/vychozi-kodovani-v-pythonu.html","loc":"https://marrek.cz/vychozi-kodovani-v-pythonu.html"},{"title":"Python pro zpracování signálů","text":"Vyšla kniha Python for Signal Processing . Tato kniha je k dispozici jako blog ale také jako IPython Notebook na Githubu . Python se mi jako nástroj pro zpracování signálů opravdu moc líbí. Je to hlavně díky knihovnám NumPy , SciPy a Matplotlib . Kdysi jsem měl tu čest pracovat na VUT v Brně s programem Matlab . Práce s výše zmíněnými knihovnami je vece podobná. Python a jeho knihovny jsou zdarma a pro mé účely naprosto dostačující. Navíc se nemusím učit další jazyk a jeho ekosystém, takže s Pythonem si vystačím při programování malých konzolových udělátek, grafických aplikací, webu i zpracování signálů. Já jsem nedávno udělal malý pokus o organizaci svých poznámek k výše zmíněným knihovnám, který je k dipozici na mém školním webu a na Githubu . Výstup vypadá opravdu velice pěkně: A využití není jen v technice: Gallery Screenshots","tags":"Blog","url":"https://marrek.cz/python-pro-zpracovani-signalu.html","loc":"https://marrek.cz/python-pro-zpracovani-signalu.html"}]};